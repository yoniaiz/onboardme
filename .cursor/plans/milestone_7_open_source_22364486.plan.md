---
name: Milestone 7 Open Source
overview: "Prepare the OnboardMe repo for high-quality open source consumption: delete legacy CLI code, create README + LICENSE, update all docs, ensure skills.sh discoverability via `npx skills add yonatanai/onboardme`."
todos:
  - id: delete-legacy
    content: "Delete legacy code: `src/`, `tests/`, `scripts/dev-setup.ts`, `conversation-game-1.md`, `IMPROVEMENTS-SUMMARY.md`"
    status: pending
  - id: delete-stale-context
    content: "Delete stale context docs: `context/games/`, `context/visuals/`, `context/technical/`, `context/evaluation/`"
    status: pending
  - id: delete-dev-artifacts
    content: "Delete dev artifacts: `.cursor/plans/`, `.cursor/commands/`, `.agents/skills/`"
    status: pending
  - id: delete-configs
    content: "Delete unused configs: `biome.json`, `knip.json`, `tsconfig.json`"
    status: pending
  - id: create-readme
    content: Create comprehensive README.md with install instructions, quick start, chapters, commands, and contributing guide
    status: pending
  - id: create-license
    content: Create MIT LICENSE file
    status: pending
  - id: update-package-json
    content: Strip package.json to minimal metadata (remove all CLI deps, scripts, bin)
    status: pending
  - id: update-gitignore
    content: "Update .gitignore: add .cursor/plans/, .cursor/commands/, .cursor/skills/, .agents/skills/"
    status: pending
  - id: update-skill-frontmatter
    content: "Update SKILL.md frontmatter: metadata.author -> yonatanai"
    status: pending
  - id: update-docs
    content: Update AGENTS.md (remove CLI refs), PRD.md (install command, MVP scope), ARCHITECTURE.md (remove legacy section), PROGRESS.md (add M7 tasks)
    status: pending
  - id: verify-clean
    content: "Final verification: ensure repo is clean, no broken references, .gitignore correct"
    status: pending
isProject: false
---

# Milestone 7: Open Source Preparation

## Current State

The repo contains two generations of code:

- **Active product**: `skills/onboardme/` (agent skill — markdown + 2 CJS scripts)
- **Dead weight**: `src/` (40+ files), `tests/`, npm deps (ink, react, commander, chalk, etc.), CLI scripts, `.cursor/plans/` (20+ dev plans), stale context docs

After cleanup, the repo will be a pure **agent skill** distributed via `npx skills add yonatanai/onboardme`.

## What Gets Deleted

**Legacy CLI code (entire directories):**

- `src/` — 40+ TypeScript files, old CLI app
- `tests/` — all tests were for the CLI
- `dist/` — build output (already gitignored)

**Stale root files:**

- `conversation-game-1.md` — playtest transcript
- `IMPROVEMENTS-SUMMARY.md` — old design improvement notes

**Stale context docs:**

- `context/games/` — 9 game design dirs from CLI era (replaced by chapters)
- `context/visuals/` — 11 CLI visual design files (animations, colors, glitch, etc.)
- `context/technical/` — 3 CLI-era technical docs (replaced by `context/agent/`)
- `context/evaluation/` — CLI-era feedback framework

**Development artifacts:**

- `.cursor/plans/` — 20+ plan files from development sessions
- `.cursor/commands/game-feedback.md` — dev-only command
- `.agents/skills/` — third-party installed skills (find-skills, vercel-react-best-practices)

## What Gets Created

**[README.md](README.md)** — The main open source README with:

- Project name, tagline, Monster ASCII art teaser
- What it is (one paragraph)
- How it works (skill architecture diagram)
- Installation: `npx skills add yonatanai/onboardme`
- Quick start: "prepare game" then "play game"
- The 5 chapters table (name, duration, what you learn, artifact)
- Available commands table
- Monster tone options (snark slider)
- Requirements (Cursor or Claude Code)
- How it works technically (skill files, state in `.onboardme/`)
- Contributing section
- License

**[LICENSE](LICENSE)** — MIT license (already declared in SKILL.md frontmatter)

## What Gets Updated

**[package.json](package.json)** — Strip to minimal metadata:

- Remove all CLI dependencies (commander, ink, react, chalk, figlet, ora, zod, ink-select-input, ink-text-input)
- Remove all devDependencies (@biomejs/biome, @types/bun, @types/react, knip, react-devtools-core)
- Remove peerDependencies (typescript)
- Remove `bin`, `module`, `engines` fields
- Remove all CLI scripts (cli, cli:init, dev, build, typecheck, test, knip, check)
- Keep `scripts.install` pointing to `bash scripts/install-skill.sh` for contributors
- Update description to match the agent skill product
- Add `repository`, `author`, `license`, `keywords` fields

**[.gitignore](.gitignore)** — Add:

- `.cursor/plans/`
- `.cursor/commands/`
- `.cursor/skills/` (deployment target, generated by install-skill.sh)
- `.agents/skills/` (third-party installed skills)

**[skills/onboardme/SKILL.md](skills/onboardme/SKILL.md)** — Update frontmatter:

- `metadata.author` from `onboardme` to `yonatanai`
- Verify all fields match skills.sh spec (name, description, license, metadata)

**[PRD.md](PRD.md)** — Update Section 8 (Installation & Distribution):

- Change install command to `npx skills add yonatanai/onboardme`
- Update "Current MVP Scope" to reflect all 5 chapters complete
- Remove "Future Considerations" items that are already implemented (snark slider, chapters 2-5)

**[AGENTS.md](AGENTS.md)** — Update for skill-only structure:

- Remove CLI-related commands section (bun run dev, bun run start, typecheck, check, knip, test)
- Remove testing strategy section (no tests anymore)
- Remove E2E testing framework section
- Remove code standards about TypeScript files (no .ts files left)
- Update project structure tree to match post-cleanup layout
- Keep skill development section and session workflow

**[PROGRESS.md](PROGRESS.md)** — Add Milestone 7 tasks

**[context/ARCHITECTURE.md](context/ARCHITECTURE.md)** — Remove "Legacy CLI Code" section (section 9)

**[scripts/install-skill.sh](scripts/install-skill.sh)** — Keep as-is (still useful for contributors)

## Config Files to Remove

After deleting `src/` and `tests/`, there is no TypeScript source code left to lint/check:

- Delete `biome.json` — no source code to lint
- Delete `knip.json` — no exports/deps to check
- Delete `tsconfig.json` — no TypeScript to compile
- Delete `scripts/dev-setup.ts` — CLI dev setup script

## Skills Distribution Verification

The skills CLI discovers skills by scanning `skills/` in the repo. The current structure is already correct:

```
skills/onboardme/
├── SKILL.md              # Discovered by `npx skills add yonatanai/onboardme`
├── instructions/         # 5 command files
├── references/           # 5 chapter files
└── scripts/              # state-manager.cjs, knowledge-manager.cjs
```

Users install with: `npx skills add yonatanai/onboardme`
This copies `skills/onboardme/` into `.cursor/skills/onboardme/` in the target repo.

## Post-Cleanup Repo Structure

```
onboardme/
├── skills/onboardme/        # THE PRODUCT
│   ├── SKILL.md
│   ├── instructions/        # 5 command .md files
│   ├── references/          # 5 chapter .md files
│   └── scripts/             # 2 .cjs utility scripts
├── context/                 # Design documentation
│   ├── ARCHITECTURE.md
│   ├── agent/               # 8 agent design docs
│   ├── chapters/            # 7 chapter design docs
│   └── narrative/           # 7 narrative design docs
├── feedback/                # Playtest data
├── scripts/
│   └── install-skill.sh
├── README.md                # NEW
├── LICENSE                  # NEW
├── AGENTS.md
├── CLAUDE.md
├── PRD.md
├── PROGRESS.md
├── package.json             # Minimal metadata
└── .gitignore
```
